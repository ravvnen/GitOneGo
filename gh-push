#!/usr/bin/env bash
set -e

echo "Hello gh-push!"


# This script is a GitHub CLI command that combines "git add -A", "git commit -m [some text]", and "git push" into a single command.   
# Snippets to help get started:

# Check if the GitHub CLI is installed
if ! command -v gh &> /dev/null; then
   echo "GitHub CLI is required to run this script" >&2
   exit 1
fi

# Check if the user is logged in
if ! gh auth status; then
  echo "You must be logged in to use this script" >&2
  exit 1
fi

# Check if the user is in a git repository
if ! git rev-parse --is-inside-work-tree &> /dev/null; then
  echo "You must be in a git repository to use this script" >&2
  exit 1
fi

# If all this is true, then this is the main logic
function gh-push() {
  git add -A
  git commit -m "$1"
  git push
}

# Call the function with the commit message
gh-push "$@"
# The "$@" is a special variable that expands to all the arguments passed to the script.
